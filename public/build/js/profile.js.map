{"version":3,"sources":["profile.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"profile.js","sourcesContent":["var invoiceRentalIDs = [];\n\nfunction addToInvoice(id){\n    var invoiceButton = $('#invoice'+id);\n    invoiceButton.addClass('btn-danger');\n    invoiceButton.removeClass('btn-default');\n    invoiceButton.text('Remove from invoice');\n    invoiceButton.attr(\"onclick\", \"removeFromInvoice(\"+id+\")\");\n\n    updateInvoice(id, true);\n}\n\nfunction removeFromInvoice(id){\n    var invoiceButton = $('#invoice'+id)\n    if(typeof invoiceButton !== 'undefined'){\n        invoiceButton.addClass('btn-default');\n        invoiceButton.removeClass('btn-danger');\n        invoiceButton.text('Add to invoice');\n        invoiceButton.attr(\"onclick\", \"addToInvoice(\"+id+\")\");\n    }\n    console.log('Updating invoice');\n    updateInvoice(id, false);\n}\n\nfunction deleteRental(id){\n    var basketListItem = $('#basket' + id);\n    if(basketListItem){\n        basketListItem.remove();\n    }\n    console.log('Removing from rental' + id);\n    removeFromInvoice(id);\n}\n\nfunction updateInvoice(id, add){\n    var invoiceFooter = $('#invoiceFooter');\n    if(add){\n        invoiceRentalIDs.push(id);\n    }else{\n        invoiceRentalIDs = jQuery.grep(invoiceRentalIDs, function(value) {\n            return value != id;\n        });\n    }\n    console.log(invoiceRentalIDs);\n    if(invoiceRentalIDs.length > 0){   \n        invoiceFooter.show();\n    }else{\n        invoiceFooter.hide();\n    }\n}\n\nfunction createInvoice(){\n    $.post(\"/profile/invoice?_token=\" + token, {rentals: invoiceRentalIDs}, function(result){\n        var invoice = JSON.parse(result);\n        var rentals = invoice['rentals'];\n        for (var i = rentals.length - 1; i >= 0; i--) {\n            var rentalID = rentals[i]\n            deleteRental(rentalID);\n        }  \n    });\n}"],"sourceRoot":"/source/"}