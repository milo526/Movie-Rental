{"version":3,"sources":["profile.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"profile.js","sourcesContent":["var invoiceMovieIDs = [];\n\nfunction addToInvoice(id){\n    var invoiceButton = $('#invoice'+id);\n    invoiceButton.addClass('btn-danger');\n    invoiceButton.removeClass('btn-default');\n    invoiceButton.text('Remove from invoice');\n    invoiceButton.attr(\"onclick\", \"removeFromInvoice(\"+id+\")\");\n\n    updateInvoice(id, true);\n}\n\nfunction removeFromInvoice(id){\n    var invoiceButton = $('#invoice'+id);\n    invoiceButton.addClass('btn-default');\n    invoiceButton.removeClass('btn-danger');\n    invoiceButton.text('Add to invoice');\n    invoiceButton.attr(\"onclick\", \"addToInvoice(\"+id+\")\");\n\n    updateInvoice(id, false);\n}\n\nfunction updateInvoice(id, add){\n    var invoiceFooter = $('#invoiceFooter');\n    if(add){\n        invoiceMovieIDs.push(id);\n    }else{\n        var index = invoiceMovieIDs.indexOf(id);\n        if (index > -1) {\n            invoiceMovieIDs.splice(index, 1);\n        }\n    }\n\n    if(invoiceMovieIDs.length > 0){   \n        invoiceFooter.show();\n    }else{\n        invoiceFooter.hide();\n    }\n}\n\nfunction createInvoice(){\n    $.post(\"/profile/invoice?_token=\" + token, {rentals: invoiceMovieIDs}, function(result){\n        var invoice = JSON.parse(result);\n        var date = new Date();\n        var dateString;\n\n        date.setDate(date.getDate() + 20);\n\n        dateString = ('0' + date.getDate()).slice(-2) + '/'\n                     + ('0' + (date.getMonth()+1)).slice(-2) + '/'\n                     + date.getFullYear();\n        var id = invoice['id'];\n        $('#table-invoice tr:last').after(\"<tr><td>\"+id+\"</td><td>\"+dateString+\"</td><td><span class='glyphicon glyphicon-ok text-warning' aria-hidden='true'></span></td><td class='text-right'><div class='btn-group' role='group'><a href='/profile/invoice/\"+id+\" class='btn btn-info' role='button'>Show</a><button class='btn btn-primary' onclick=''>Pay</button></div></td></tr>\");\n    });\n}\n\nfunction payInvoice(){\n    var invoice\n}"],"sourceRoot":"/source/"}